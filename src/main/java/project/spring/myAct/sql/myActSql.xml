<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="myAct">
 		<select id="selectAll" parameterType="string" resultType="ArticleDTO">
 		<![CDATA[
 		select * from (select BN_IDX,BN_TITLE ,KIND ,DK_CODE ,READCOUNT ,HEART ,REPORT ,CONTENT ,INSERT_ID ,INSERT_DAY ,IS_DELETE ,rownum r FROM BOARD_NORMAL bn  WHERE insert_id=#{value} ORDER BY BN_IDX desc)
		]]>
 		</select>
 		
 		<select id="myArticleCount" parameterType="string" resultType="int">
 			select count(*) from BOARD_NORMAL where insert_id=#{value}
 		</select>

 		
 		<select id="myLikeArticleCount" parameterType="string" resultType="int">
 		<![CDATA[
 			select count(*) from my_like where insert_id=#{value} AND KIND ='F' OR KIND ='C'
 		]]>
 		</select>
 		<select id="myLikeArticle" parameterType="string" resultType="ArticleDTO">
 			SELECT * FROM BOARD_NORMAL bn, MY_LIKE ml WHERE bn.BN_IDX = ml.obj_idx AND ml.INSERT_ID=#{value}
 		</select>
 		
 		<select id="myLikeDrink" parameterType="string" resultType="int">
 			
 		</select>
 		<select id="myLikeDrinkCount" parameterType="string" resultType="int">
 			<![CDATA[
	 			select count(*) from my_like where insert_id=#{value} AND KIND ='PR' OR KIND ='DK'
 			]]>
 		</select>
 		
 		<select id="getMyTitle" parameterType="string" resultType="MyTitleDTO">
 			select * from my_title where id=#{value}
 		</select>
  </mapper>