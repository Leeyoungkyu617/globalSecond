<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="main">
  		<select id="getProductInitial" resultType="productvo" parameterType="int">
  			<![CDATA[	
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  PRODUCT_INFO order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{value})+1 and rnum <= (10*(#{value}+1))
  			]]>
  		</select>
  		<select id="getDrinkInitial" resultType="DrinkVO" parameterType="int">
  			<![CDATA[	
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  DRINK_INFO order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{value})+1 and rnum <= (10*(#{value}+1))
  			]]>
  		</select>
  		<select id="getEventInitial" resultType="EventVO" parameterType="int">
  			<![CDATA[
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  event order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{value})+1 and rnum <= (10*(#{value}+1)) AND IS_OPEN ='Y'	
  			]]>
  		</select>
  		<select id="getProductInitialbySearch" resultType="productvo" parameterType="hashmap">
  			<![CDATA[	
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  PRODUCT_INFO order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{index})+1 and rnum <= (10*(#{index}+1)) AND pr_name LIKE '%' || #{search} || '%'
  			]]>
  		</select>
  		<select id="getDrinkInitialbySearch" resultType="DrinkVO" parameterType="hashmap">
  			<![CDATA[	
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  DRINK_INFO order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{index})+1 and rnum <= (10*(#{index}+1)) AND dk_name LIKE '%' || #{search} || '%'
  			]]>
  		</select>
  		<select id="getEventInitialbySearch" resultType="EventVO" parameterType="hashmap">
  			<![CDATA[
  			SELECT * FROM (select a.*,ROWNUM AS rnum from (SELECT * FROM  event order by INSERT_DAY DESC ) a) WHERE rnum >= (10*#{index})+1 and rnum <= (10*(#{index}+1))AND EVENT_NAME LIKE '%' || #{search} || '%' AND IS_OPEN ='Y'
  			]]>
  		</select>
  		
  </mapper>
